(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const S="171c28a2dc0957941680747b5a775d1b",C="https://api.openweathermap.org/data/2.5/weather?units=metric&q=",m=document.querySelector(".autocompleteInput"),q=document.querySelector(".submitBtn");async function f(t){try{const r=await(await fetch(C+t+`&appid=${S}`)).json();console.log(r),document.querySelector(".temperature").innerHTML="Temperature: "+Math.round(r.main.temp)+"&#8451",document.querySelector(".temperature-feels_like").innerHTML="Feels like: "+Math.round(r.main.feels_like)+"&#8451",document.querySelector(".humidity").innerHTML="Humidity: "+r.main.humidity+"%",document.querySelector(".wind").innerHTML="Wind: "+r.wind.speed+"km/h"}catch(e){console.log(e),document.querySelector(".temperature").innerHTML="Error: No information found",document.querySelector(".temperature-feels_like").innerHTML="",document.querySelector(".humidity").innerHTML="",document.querySelector(".wind").innerHTML=""}}q.addEventListener("click",()=>{f(m.value)});m.addEventListener("keydown",t=>{t.keyCode===13&&f(m.value)});const k=document.querySelector(".currentDate");let u=new Date,L=u.getFullYear(),c=u.getMonth(),x=u.getDate(),M=p(u.getHours()),I=p(u.getMinutes());function p(t){return t<10&&(t="0"+t),t}switch(c){case 0:c="Jan.";break;case 1:c="Feb.";break;case 2:c="Mar.";break;case 3:c="Apr.";break;case 4:c="May";break;case 5:c="June";break;case 6:c="July";break;case 7:c="Aug.";break;case 8:c="Sept.";break;case 9:c="Oct.";break;case 10:c="Nov.";break;case 11:c="Dec.";break}k.innerHTML="Today is "+x+" "+c+" "+L+"   "+M+":"+I;const w="5ae2e3f221c38a28845f05b67a4efd428d2e3973acfdb186db7def8c",i=document.querySelector(".card-info");function y(t,e){return console.log("query: "+e),new Promise(function(r,a){var n="https://api.opentripmap.com/0.1/en/places/"+t+"?apikey="+w;e!==void 0&&(n+=`&${e}`),fetch(n).then(o=>o.json()).then(o=>{r(o)}).catch(function(o){a(o),console.error("Ошибка запроса:",o),i.textContent="Произошла ошибка при запросе к API"})})}document.querySelector(".submitBtn").addEventListener("click",function(){const t=document.getElementById("input").value;y("geoname",`name=${t}`).then(e=>{if(console.log("Данные по городу:",e),e.error){i.textContent="Город не найден в базе данных OpenTripMap";return}const r=e.lon,a=e.lat;y("radius",`radius=1000&lon=${r}&lat=${a}&format=json&limit=5`).then(n=>{if(console.log("Достопримечательности:",n),Array.isArray(n)&&n.length>0){const o=n.map(s=>s.name).join(", ");i.textContent=`Attractions: ${o}`}else i.textContent="Данные о достопримечательностях отсутствуют в ответе API"}).catch(n=>{console.error("Ошибка получения данных о достопримечательностях:",n),i.textContent="Произошла ошибка при запросе к API (достопримечательности)"})}).catch(e=>{console.error("Ошибка получения данных по этому городу:",e),i.textContent="Произошла ошибка при запросе к API"})});document.querySelector(".submitBtn");const A=document.querySelector(".card-name"),h=document.querySelector(".card-currency"),g=document.querySelector(".card-country"),b=document.querySelector(".card-timezone-link"),l=document.querySelector(".card-main-error");l.style.display="none";function P(t){document.querySelector(".card_main").style.display="flex",console.log("Country input: "+t),v(t),l.style.display="none",h.textContent="",g.textContent="",b.href="",A.textContent=""}function N(t){h.textContent="Currency: "+t}function T(t){g.textContent="Country: "+t}function $(t){b.href=t,console.log("location: "+t)}async function v(t){try{const r=await(await fetch("https://restcountries.com/v3.1/alpha/"+t)).json();console.log("----  search by country: ----"),console.log(r),N(r[0].currencies[Object.keys(r[0].currencies)[0]].name+" ("+r[0].currencies[Object.keys(r[0].currencies)[0]].symbol+")"),T(r[0].name.common),$(r[0].maps.googleMaps)}catch(e){l.style.display="flex",console.error("Ошибка в поиске города:",e),l.textContent=`Ошибка в поиске города: 
`+e.name+" ----> для полной информации необходимо ввести столицу"}}const H="5ae2e3f221c38a28845f05b67a4efd428d2e3973acfdb186db7def8c",d=document.querySelector(".card-timezone"),E=document.querySelector(".card-name");function O(t,e){return console.log("query: "+e),new Promise(function(r,a){var n="https://api.opentripmap.com/0.1/en/places/"+t+"?apikey="+H;e!==void 0&&(n+=`&${e}`),fetch(n).then(o=>o.json()).then(o=>{r(o)}).catch(function(o){a(o),console.error("Ошибка запроса:",o),d.textContent="Произошла ошибка при запросе к API"})})}document.querySelector(".submitBtn").addEventListener("click",function(){const t=document.getElementById("input").value;O("geoname",`name=${t}`).then(e=>{console.log("Geoname Data:",e),d.textContent=`Region: ${e.timezone}`,P(e.country),E.textContent=e.name}).catch(e=>{console.error("Error fetching Geoname data:",e),d.textContent="Произошла ошибка при запросе к API"})});document.querySelector(".card_main").style.display="none";
