(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();const a=document.querySelector(".submitBtn"),l=document.querySelector(".card-name"),d=document.querySelector(".card-currency");a.addEventListener("click",m);function m(){let e=document.querySelector("#input");console.log("City input: "+e.value),f(e.value)}function y(e){d.textContent="Currency: "+e}function p(e){l.textContent=e}async function f(e){const t=await(await fetch("https://restcountries.com/v3.1/capital/"+e)).json();console.log(t),y(t[0].currencies[Object.keys(t[0].currencies)[0]].name+" ("+t[0].currencies[Object.keys(t[0].currencies)[0]].symbol+")"),p(t[0].capital),t.map(r=>r.name.common)}const h="171c28a2dc0957941680747b5a775d1b",C="https://api.openweathermap.org/data/2.5/weather?units=metric&q=",u=document.querySelector(".autocompleteInput"),g=document.querySelector(".submitBtn");async function s(e){const t=await(await fetch(C+e+`&appid=${h}`)).json();console.log(t),document.querySelector(".temperature").innerHTML=Math.round(t.main.temp)+"&#8451",document.querySelector(".humidity").innerHTML="Humidity: "+t.main.humidity+"%",document.querySelector(".wind").innerHTML="Wind: "+t.wind.speed+"km/h"}g.addEventListener("click",()=>{s(u.value)});u.addEventListener("keydown",e=>{e.keyCode===13&&s(u.value)});function q(){const e=document.querySelector(".card-info");e.textContent="";const t=`https://en.wikipedia.org/w/api.php?action=query&format=json&prop=extracts&exintro=true&titles=${document.querySelector("#input").value}&origin=*`;fetch(t).then(r=>{if(!r.ok)throw new Error(`Ошибка HTTP: ${r.status}`);return r.json()}).then(r=>{r[0]?e.textContent=`Информация: ${JSON.stringify(r[0])}`:e.textContent="Нет информации о таком городе"}).catch(r=>{console.error("Ошибка запроса:",r),e.textContent="Произошла ошибка при запросе к API"})}document.querySelector(".submitBtn").addEventListener("click",q);
